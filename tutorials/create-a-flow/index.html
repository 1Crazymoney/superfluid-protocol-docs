<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:137.5%/1.78 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2.2974rem;line-height:2.67rem;letter-spacing:-2px;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}ul{margin-left:1.78rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.78rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:0.85rem;line-height:1.78rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:1rem;line-height:1.78rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}blockquote{margin-left:0;margin-right:1.78rem;margin-top:0;padding-bottom:0;padding-left:1.44625rem;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:1.1487rem;line-height:1.78rem;font-style:italic;border-left:0.33375rem solid hsla(0,0%,0%,0.2);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.78rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.78rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.78rem;margin-bottom:calc(1.78rem / 2);margin-top:calc(1.78rem / 2);}li > ul{margin-left:1.78rem;margin-bottom:calc(1.78rem / 2);margin-top:calc(1.78rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.78rem / 2);}code{font-size:0.85rem;line-height:1.78rem;}kbd{font-size:0.85rem;line-height:1.78rem;}samp{font-size:0.85rem;line-height:1.78rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.18667rem;padding-right:1.18667rem;padding-top:0.89rem;padding-bottom:calc(0.89rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}@media screen and (max-width:799px){html{font:112.5%/1.78 'Merriweather','Georgia',serif;}}@media screen and (max-width:499px){html{font:106.25%/1.78 'Merriweather','Georgia',serif;}}a{color:#FF2D55;text-decoration:none;}a:hover,a:active{text-decoration:underline;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.78rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.78rem;}blockquote{margin-left:-1.335rem;margin-right:0;padding-left:1.00125rem;}}@media only screen and (max-width:768px){h1{font-size:2rem;line-height:2.67rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.56rem;}ul, li{list-style-position:inside;}</style><style data-href="/styles.7f03f49f869028d8a33a.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{position:relative;margin:.5em 0;overflow:visible;padding:0}pre[class*=language-]>code{position:relative;border-left:10px solid #358ccb;box-shadow:-1px 0 0 0 #358ccb,0 0 0 1px #dfdfdf;background-color:#fdfdfd;background-image:linear-gradient(transparent 50%,rgba(69,142,209,.04) 0);background-size:3em 3em;background-origin:content-box;background-attachment:local}code[class*=language-]{max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdfdfd;box-sizing:border-box;margin-bottom:1em}:not(pre)>code[class*=language-]{position:relative;padding:.2em;border-radius:.3em;color:#c92c2c;border:1px solid rgba(0,0,0,.1);display:inline;white-space:normal}pre[class*=language-]:after,pre[class*=language-]:before{content:"";z-index:-2;display:block;position:absolute;bottom:.75em;left:.18em;width:40%;height:20%;max-height:13em;box-shadow:0 13px 8px #979797;transform:rotate(-2deg)}pre[class*=language-]:after{right:.75em;left:auto;transform:rotate(2deg)}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#7d8b99}.token.punctuation{color:#5f6364}.token.boolean,.token.constant,.token.deleted,.token.function-name,.token.number,.token.property,.token.symbol,.token.tag{color:#c92c2c}.token.attr-name,.token.builtin,.token.char,.token.function,.token.inserted,.token.selector,.token.string{color:#2f9c0a}.token.entity,.token.operator,.token.url,.token.variable{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.class-name,.token.keyword{color:#1990b8}.token.important,.token.regex{color:#e90}.language-css .token.string,.style .token.string{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.important{font-weight:400}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.namespace{opacity:.7}@media screen and (max-width:767px){pre[class*=language-]:after,pre[class*=language-]:before{bottom:14px;box-shadow:none}}pre[class*=language-].line-numbers.line-numbers{padding-left:0}pre[class*=language-].line-numbers.line-numbers code{padding-left:3.8em}pre[class*=language-].line-numbers.line-numbers .line-numbers-rows{left:0}pre[class*=language-][data-line]{padding-top:0;padding-bottom:0;padding-left:0}pre[data-line] code{position:relative;padding-left:4em}pre .line-highlight{margin-top:0}</style><meta name="generator" content="Gatsby 2.24.65"/><title data-react-helmet="true">🔀 Create a Superfluid Flow | Superfluid Docs</title><meta data-react-helmet="true" name="description" content="By the end of this tutorial you will learn: How to use the Superfluid javascript SDK How to open and close a Flow Introduction A  Constant Flow Agreement  is a transfer of value from a  sender  to a  receiver  at a constant  flowRate  measured in…"/><meta data-react-helmet="true" property="og:title" content="🔀 Create a Superfluid Flow"/><meta data-react-helmet="true" property="og:description" content="By the end of this tutorial you will learn: How to use the Superfluid javascript SDK How to open and close a Flow Introduction A  Constant Flow Agreement  is a transfer of value from a  sender  to a  receiver  at a constant  flowRate  measured in…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="superfluid.finance"/><meta data-react-helmet="true" name="twitter:title" content="🔀 Create a Superfluid Flow"/><meta data-react-helmet="true" name="twitter:description" content="By the end of this tutorial you will learn: How to use the Superfluid javascript SDK How to open and close a Flow Introduction A  Constant Flow Agreement  is a transfer of value from a  sender  to a  receiver  at a constant  flowRate  measured in…"/><meta data-react-helmet="true" name="twitter:image" content="https://og-image-react-egghead.now.sh/instructor-guide/%F0%9F%94%80%20Create%20a%20Superfluid%20Flow?y=20200407"/><meta data-react-helmet="true" name="image" content="https://og-image-react-egghead.now.sh/instructor-guide/%F0%9F%94%80%20Create%20a%20Superfluid%20Flow?y=20200407"/><meta data-react-helmet="true" name="og:image" content="https://og-image-react-egghead.now.sh/instructor-guide/%F0%9F%94%80%20Create%20a%20Superfluid%20Flow?y=20200407"/><meta data-react-helmet="true" name="twitter:label1" content="Time to read"/><meta data-react-helmet="true" name="twitter:data1" content="3 minutes"/><meta data-react-helmet="true" name="twitter:label2" content="Category"/><meta data-react-helmet="true" name="twitter:data2" content="Tutorial"/><link href="//fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Merriweather:300,300i,400,400i,700,700i" rel="stylesheet" type="text/css"/><link rel="icon" href="/favicon-32x32.png?v=1e1314f4a5cef57dac0b35dabc7ac938" type="image/png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#3852E4"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=1e1314f4a5cef57dac0b35dabc7ac938"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=1e1314f4a5cef57dac0b35dabc7ac938"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=1e1314f4a5cef57dac0b35dabc7ac938"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=1e1314f4a5cef57dac0b35dabc7ac938"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=1e1314f4a5cef57dac0b35dabc7ac938"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=1e1314f4a5cef57dac0b35dabc7ac938"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=1e1314f4a5cef57dac0b35dabc7ac938"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=1e1314f4a5cef57dac0b35dabc7ac938"/><link rel="preconnect" href="https://superfluidfinance.matomo.cloud"/><link as="script" rel="preload" href="/webpack-runtime-02f21c62cb37060a73a0.js"/><link as="script" rel="preload" href="/framework-83e11af5cf111be5ad89.js"/><link as="script" rel="preload" href="/app-976397e89b272a229638.js"/><link as="script" rel="preload" href="/styles-bc72ca78f9bad9fb1f45.js"/><link as="script" rel="preload" href="/5e2a4920-af8585eda26774c525b4.js"/><link as="script" rel="preload" href="/05d954cf-1780a4cc2dc4eca35f03.js"/><link as="script" rel="preload" href="/commons-f94eb60cb25332f7e21e.js"/><link as="script" rel="preload" href="/component---src-templates-article-js-4724c420e8eee6898a5f.js"/><link as="fetch" rel="preload" href="/page-data/tutorials/create-a-flow/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1655584978.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2867478693.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
        var mode = localStorage.getItem('theme-ui-color-mode');
        if (!mode) return
        document.body.classList.add('theme-ui-' + mode);
      } catch (e) {} })();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1u70f14">.css-1u70f14{background-color:var(--theme-ui-colors-gray-50,#fafafa);}.css-1u70f14 mark{background-color:#e7f1fc;color:var(--theme-ui-colors-primary,#1b6ac9);}.css-1u70f14 a{color:var(--theme-ui-colors-primary,#1b6ac9);}.css-1u70f14 ul{margin-left:0;}.css-1u70f14 hr{margin-top:16px;border:0;height:0;border-top:2px solid;border-top-color:var(--theme-ui-colors-gray-100,#f5f5f5);margin-left:-16px;margin-right:-16px;}@media screen and (min-width:40em){.css-1u70f14 hr{margin-top:64px;margin-left:-64px;margin-right:-64px;}}.css-1u70f14 code{background-color:var(--theme-ui-colors-gray-100,#f5f5f5);color:var(--theme-ui-colors-code-text,#444);padding:3px 6px;border-radius:3px;}.css-1u70f14 pre{background-color:var(--theme-ui-colors-gray-100,#f5f5f5);padding:10px;border-radius:6px;}</style><div class="css-1u70f14"><style data-emotion-css="1svsvwq">.css-1svsvwq{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="css-1svsvwq"><style data-emotion-css="cmkpin">.css-cmkpin{z-index:100;position:fixed;background:white;box-shadow:0 3px 6px 0 rgba(0,0,0,0.025),0 7px 32px 0 rgba(62,61,68,0.025);display:grid;grid-template-columns:3fr 5fr;max-height:60px;max-width:1200px;width:100%;margin-left:auto;margin-right:auto;padding-left:8px;padding-right:8px;padding-top:8px;padding-bottom:8px;}@media screen and (min-width:40em){.css-cmkpin{position:static;background:none;box-shadow:none;max-height:60px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;}}@media screen and (min-width:52em){.css-cmkpin{max-height:119px;padding-left:16px;padding-right:16px;padding-top:32px;padding-bottom:32px;}}@media screen and (min-width:64em){.css-cmkpin{padding-left:4px;padding-right:4px;}}.css-cmkpin ul{list-style:inherit;margin-left:0;}.css-cmkpin li{padding-left:0;}</style><header class="css-cmkpin"><style data-emotion-css="70qvj9">.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-70qvj9" style="opacity:1"><style data-emotion-css="oyvup9">.css-oyvup9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-oyvup9 svg{max-width:180px;}@media screen and (min-width:40em){.css-oyvup9 svg{max-width:180px;}}@media screen and (min-width:52em){.css-oyvup9 svg{max-width:208px;}}</style><a class="css-oyvup9" href="/"><svg width="208px" height="46px" viewBox="0 0 167 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>B490FC81-D6BD-439C-81B8-F248EF9420A5@1.00x</title><g id="Brand" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Logo" fill="#000000"><path d="M62.415,22.0661111 L62.415,14.4241667 L66.1397222,14.4241667 L66.1397222,22.37 C66.1397222,23.1611111 66.3830556,23.7952778 66.8702778,24.2736111 C67.3577778,24.7516667 67.9786111,24.9911111 68.7327778,24.9911111 C69.4680556,24.9911111 70.0752778,24.7469444 70.5536111,24.2597222 C71.0316667,23.7725 71.2708333,23.1422222 71.2708333,22.37 L71.2708333,14.4241667 L74.9952778,14.4241667 L74.9952778,22.0661111 C74.9952778,23.9422222 74.4019444,25.4691667 73.2158333,26.6458333 C72.0294444,27.8233333 70.5352778,28.4116667 68.7327778,28.4116667 C66.8933333,28.4116667 65.3811111,27.8277778 64.1947222,26.6594444 C63.0080556,25.4916667 62.415,23.9608333 62.415,22.0661111" id="Fill-1"></path><path d="M87.3238889,21.2663889 C87.3238889,20.1447222 86.9933333,19.2344444 86.3308333,18.5347222 C85.6691667,17.8366667 84.8225,17.4869444 83.7930556,17.4869444 C82.8,17.4869444 81.9763889,17.8180556 81.3238889,18.48 C80.6705556,19.1422222 80.3444444,20.0616667 80.3444444,21.2388889 C80.3444444,22.4161111 80.6705556,23.3402778 81.3238889,24.0108333 C81.9763889,24.6830556 82.8,25.0183333 83.7930556,25.0183333 C84.8041667,25.0183333 85.6458333,24.6691667 86.3172222,23.9697222 C86.9886111,23.2708333 87.3238889,22.37 87.3238889,21.2663889 Z M89.2136111,16.1488889 C90.4733333,17.5005556 91.1036111,19.1972222 91.1036111,21.2388889 C91.1036111,23.2802778 90.4733333,24.9861111 89.2136111,26.3563889 C87.9541667,27.7263889 86.3769444,28.4116667 84.4825,28.4116667 C82.7719444,28.4116667 81.4108333,27.86 80.3994444,26.7563889 L80.3994444,33.0461111 L76.6752778,33.0461111 L76.6752778,14.4241667 L80.0961111,14.4241667 L80.0961111,16.1352778 C81.0341667,14.7925 82.4961111,14.1211111 84.4825,14.1211111 C86.3769444,14.1211111 87.9541667,14.7966667 89.2136111,16.1488889 L89.2136111,16.1488889 Z" id="Fill-2"></path><path d="M96.2052778,19.8866667 L102.412778,19.8866667 C102.394167,19.0591667 102.104167,18.3925 101.543333,17.8866667 C100.981944,17.3811111 100.287778,17.1283333 99.4605556,17.1283333 C98.6697222,17.1283333 97.9797222,17.3763889 97.3913889,17.8730556 C96.8025,18.3691667 96.4072222,19.0411111 96.2052778,19.8866667 Z M105.777778,22.5075 L96.2052778,22.5075 C96.4258333,23.3725 96.8711111,24.0391667 97.5430556,24.5077778 C98.2138889,24.9772222 99.0466667,25.2116667 100.04,25.2116667 C101.381944,25.2116667 102.651111,24.7516667 103.846944,23.8316667 L105.391667,26.3702778 C103.755,27.7313889 101.933889,28.4116667 99.9291667,28.4116667 C97.8325,28.4480556 96.0533333,27.7630556 94.5911111,26.3563889 C93.1288889,24.9488889 92.4161111,23.2525 92.4533333,21.2663889 C92.4161111,19.2983333 93.1055556,17.6063889 94.5222222,16.1902778 C95.9380556,14.7738889 97.63,14.0844444 99.5986111,14.1211111 C101.474722,14.1211111 103.014722,14.7277778 104.219167,15.9419444 C105.423889,17.1558333 106.026389,18.6638889 106.026389,20.4666667 C106.026389,21.1280556 105.943333,21.8094444 105.777778,22.5075 L105.777778,22.5075 Z" id="Fill-3"></path><path d="M116.035833,14.4241667 L116.035833,17.7075 L115.0425,17.7075 C113.901944,17.7075 113.005278,18.0111111 112.353056,18.6180556 C111.699444,19.2247222 111.373611,20.1077778 111.373611,21.2663889 L111.373611,28.0805556 L107.649167,28.0805556 L107.649167,14.4241667 L111.070278,14.4241667 L111.070278,16.0519444 C112.026111,14.8569444 113.277222,14.2591667 114.821944,14.2591667 C115.281944,14.2591667 115.686667,14.3141667 116.035833,14.4241667" id="Fill-4"></path><path d="M126.5975,28.0805556 L130.321944,28.0805556 L130.321944,7.05833333 L126.5975,7.05833333 L126.5975,28.0805556 Z M124.818889,7.05833333 L124.818889,10.3966667 L123.921944,10.3966667 C123.0575,10.3966667 122.427222,10.5622222 122.032222,10.8933333 C121.636667,11.2238889 121.439167,11.7666667 121.439167,12.5208333 L121.439167,14.4241667 L124.818889,14.4241667 L124.818889,17.5694444 L121.439167,17.5694444 L121.439167,28.0805556 L117.714444,28.0805556 L117.714444,12.19 C117.714444,10.4980556 118.174444,9.22 119.094444,8.355 C120.013333,7.49111111 121.31,7.05833333 122.983889,7.05833333 L124.818889,7.05833333 L124.818889,7.05833333 Z" id="Fill-5"></path><path d="M132.136389,22.0661111 L132.136389,14.4241667 L135.861111,14.4241667 L135.861111,22.37 C135.861111,23.1611111 136.104444,23.7952778 136.591944,24.2736111 C137.079167,24.7516667 137.7,24.9911111 138.454444,24.9911111 C139.189722,24.9911111 139.796667,24.7469444 140.274722,24.2597222 C140.753056,23.7725 140.991944,23.1422222 140.991944,22.37 L140.991944,14.4241667 L144.716389,14.4241667 L144.716389,22.0661111 C144.716389,23.9422222 144.123611,25.4691667 142.936944,26.6458333 C141.750833,27.8233333 140.256111,28.4116667 138.454444,28.4116667 C136.614722,28.4116667 135.102222,27.8277778 133.916389,26.6594444 C132.729444,25.4916667 132.136389,23.9608333 132.136389,22.0661111" id="Fill-6"></path><polygon id="Fill-7" points="146.531111 28.0805556 150.255556 28.0805556 150.255556 14.4241667 146.531111 14.4241667"></polygon><path d="M162.018611,24.0247222 C162.670556,23.3627778 162.997778,22.4436111 162.997778,21.2663889 C162.997778,20.0891667 162.666667,19.165 162.004722,18.4936111 C161.342222,17.8222222 160.523889,17.4869444 159.549444,17.4869444 C158.537222,17.4869444 157.696111,17.8366667 157.024722,18.5347222 C156.353333,19.2344444 156.018056,20.1352778 156.018056,21.2388889 C156.018056,22.3611111 156.349167,23.2708333 157.011111,23.9697222 C157.673333,24.6691667 158.518889,25.0183333 159.549444,25.0183333 C160.5425,25.0183333 161.365,24.6872222 162.018611,24.0247222 Z M162.942778,7.05833333 L166.666667,7.05833333 L166.666667,28.0805556 L163.246111,28.0805556 L163.246111,26.3975 C162.308056,27.7402778 160.845556,28.4116667 158.859722,28.4116667 C156.946389,28.4116667 155.364722,27.7355556 154.114722,26.3838889 C152.863333,25.0322222 152.238611,23.3263889 152.238611,21.2663889 C152.238611,19.2066667 152.863333,17.5005556 154.114722,16.1488889 C155.364722,14.7966667 156.946389,14.1211111 158.859722,14.1211111 C160.587778,14.1211111 161.949167,14.6638889 162.942778,15.7488889 L162.942778,7.05833333 L162.942778,7.05833333 Z" id="Fill-8"></path><path d="M56.5891667,17.6244444 L54.52,16.7144444 C53.7105556,16.3469444 53.1544444,16.0202778 52.8511111,15.7344444 C52.5477778,15.45 52.3958333,15.0775 52.3958333,14.6177778 C52.3958333,14.5494444 52.4088889,14.4888889 52.4155556,14.4241667 L48.6294444,14.4241667 C48.6252778,14.5163889 48.6163889,14.6061111 48.6163889,14.7002778 C48.6163889,16.8891667 50.0875,18.6363889 53.0305556,19.9422222 L54.9888889,20.8247222 C55.9086111,21.2483333 56.5244444,21.6022222 56.8375,21.8869444 C57.1502778,22.1719444 57.3066667,22.5727778 57.3066667,23.0866667 C57.3066667,23.7127778 57.0763889,24.2041667 56.6169444,24.5630556 C56.1569444,24.9216667 55.5222222,25.1008333 54.7133333,25.1008333 C53.0208333,25.1008333 51.5311111,24.2177778 50.2438889,22.4525 L47.6783333,24.3833333 C48.3955556,25.6347222 49.3655556,26.6180556 50.5888889,27.3355556 C51.8116667,28.0530556 53.1866667,28.4116667 54.7133333,28.4116667 C56.5705556,28.4116667 58.0972222,27.9105556 59.2927778,26.9080556 C60.4880556,25.9055556 61.0861111,24.5861111 61.0861111,22.9491667 C61.0861111,21.735 60.7272222,20.7194444 60.0102778,19.9008333 C59.2927778,19.0825 58.1522222,18.3238889 56.5891667,17.6244444" id="Fill-9"></path><polyline id="Fill-10" points="61.0861111 9.00555556 55.6675 9.00555556 55.6675 11.715 58.3769444 11.715 58.3769444 14.4241667 61.0861111 14.4241667 61.0861111 9.00555556"></polyline><polygon id="Fill-11" points="150.255556 14.4241667 154.361111 14.4241667 154.361111 10.3183333 150.255556 10.3183333"></polygon><path d="M30.6977778,23.5061111 L23.4586111,23.5061111 L23.4586111,16.2669444 L16.2191667,16.2669444 L16.2191667,9.0275 L30.6977778,9.0275 L30.6977778,23.5061111 Z M8.98,30.7452778 L16.2191667,30.7452778 L16.2191667,23.5061111 L8.98,23.5061111 L8.98,30.7452778 Z M0,4.38416667 L0,35.3891667 C0,37.7838889 1.94138889,39.7255556 4.33638889,39.7255556 L35.3413889,39.7255556 C37.7363889,39.7255556 39.6777778,37.7838889 39.6777778,35.3891667 L39.6777778,4.38416667 C39.6777778,1.98916667 37.7363889,0.0477777778 35.3413889,0.0477777778 L4.33638889,0.0477777778 C1.94138889,0.0477777778 0,1.98916667 0,4.38416667 L0,4.38416667 Z" id="Fill-12"></path></g></g></svg></a></div></header><style data-emotion-css="1k19n6e">.css-1k19n6e{margin-top:60px;display:grid;grid-template-columns:auto;max-width:70ch;width:100%;margin-left:auto;margin-right:auto;}@media screen and (min-width:40em){.css-1k19n6e{margin-top:20px;grid-template-columns:auto;max-width:70ch;}}@media screen and (min-width:52em){.css-1k19n6e{margin-top:0;grid-template-columns:8fr 2.5fr;max-width:1200px;}}</style><div class="css-1k19n6e"><style data-emotion-css="1dtjkfd">.css-1dtjkfd{min-width:0;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><main class="css-1dtjkfd"><style data-emotion-css="193fl13">.css-193fl13{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;background-color:var(--theme-ui-colors-background,#fff);width:100%;border-radius:0;margin-left:auto;margin-right:auto;padding:16px;padding-top:4px;box-shadow:0 1.1px 2.2px rgba(0,0,0,0.006),0 2.5px 5.3px rgba(0,0,0,0.008),0 4.8px 10px rgba(0,0,0,0.01),0 8.5px 17.9px rgba(0,0,0,0.012),0 15.9px 33.4px rgba(0,0,0,0.014),0 38px 80px rgba(0,0,0,0.02);}@media screen and (min-width:40em){.css-193fl13{border-radius:5px;padding:64px;padding-top:4px;}}@media screen and (min-width:52em){.css-193fl13{border-radius:8px;}}</style><div class="css-193fl13"><style data-emotion-css="t6ffbi">.css-t6ffbi{margin-top:16px;}@media screen and (min-width:40em){.css-t6ffbi{margin-top:32px;}}</style><nav class="css-t6ffbi"><style data-emotion-css="a3byq1">.css-a3byq1{display:inline-block;margin:0;padding-right:5px;}</style><span class="css-a3byq1"><a href=""></a><style data-emotion-css="cqerdp">.css-cqerdp{opacity:0.3;}</style><span class="css-cqerdp"></span></span><span class="css-a3byq1"><a href="/tutorials">tutorials</a><span class="css-cqerdp"> / </span></span></nav><style data-emotion-css="1p2xakb">.css-1p2xakb{-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:32px;}</style><style data-emotion-css="1hlvq55">.css-1hlvq55{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:32px;}</style><div class="css-1hlvq55"><style data-emotion-css="1ms0hbu">.css-1ms0hbu{font-size:32px;line-height:normal;-webkit-letter-spacing:normal;-moz-letter-spacing:normal;-ms-letter-spacing:normal;letter-spacing:normal;margin-top:4px;margin-bottom:0;}@media screen and (min-width:40em){.css-1ms0hbu{font-size:32px;}}@media screen and (min-width:52em){.css-1ms0hbu{font-size:48px;}}</style><h1 class="css-1ms0hbu">🔀 Create a Superfluid Flow</h1><style data-emotion-css="4utjwb">.css-4utjwb{position:fixed;z-index:10;right:16px;bottom:16px;width:60px;height:60px;border-radius:30px;padding:4px;box-shadow:0 3px 6px 0 rgba(0,0,0,0.025),0 7px 32px 0 rgba(62,61,68,0.025);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:white;border:none;background:rgb(32,35,42);font-family:'Open Sans',sans-serif;text-transform:uppercase;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media screen and (min-width:40em){.css-4utjwb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media screen and (min-width:52em){.css-4utjwb{display:none;}}</style><style data-emotion-css="u4fg8r">.css-u4fg8r{box-sizing:border-box;margin:0;min-width:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:inline-block;text-align:center;line-height:inherit;-webkit-text-decoration:none;text-decoration:none;font-size:inherit;padding-left:16px;padding-right:16px;padding-top:8px;padding-bottom:8px;color:white;background-color:var(--theme-ui-colors-primary,#1b6ac9);border:0;border-radius:4px;position:fixed;z-index:10;right:16px;bottom:16px;width:60px;height:60px;border-radius:30px;padding:4px;box-shadow:0 3px 6px 0 rgba(0,0,0,0.025),0 7px 32px 0 rgba(62,61,68,0.025);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:white;border:none;background:rgb(32,35,42);font-family:'Open Sans',sans-serif;text-transform:uppercase;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media screen and (min-width:40em){.css-u4fg8r{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media screen and (min-width:52em){.css-u4fg8r{display:none;}}</style><button aria-expanded="false" class="css-u4fg8r"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button></div><style data-emotion-css="1tgvs4s">.css-1tgvs4s h1:first-of-type{margin-top:16px;}@media screen and (min-width:40em){.css-1tgvs4s h1:first-of-type{margin-top:64px;}}</style><div class="css-1tgvs4s"><p class="css-0">By the end of this tutorial you will learn:</p><ul class="css-0"><li class="css-0">How to use the Superfluid javascript SDK</li><li class="css-0">How to open and close a Flow</li></ul><h2 id="introduction" class="css-0">Introduction</h2><p class="css-0">A <strong class="css-0">Constant Flow Agreement</strong> is a transfer of value from a <code class="css-0">sender</code> to a <code class="css-0">receiver</code> at a constant <code class="css-0">flowRate</code> measured in <em class="css-0">amount per second</em>.</p><p class="css-0">Great! Now that you understand the first major concept of Superfluid, lets get to the fun part. Here is an overview of the Constant Flow Agreement contract. Did someone say <em class="css-0">CRUD</em>?</p><div class="gatsby-highlight css-0" data-language="sol"><pre class="language-sol css-0"><code class="language-sol css-0"><span class="token keyword">interface</span> <span class="token class-name">IConstantFlowAgreementV1</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">createFlow</span><span class="token punctuation">(</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token keyword">function</span> <span class="token function">updateFlow</span><span class="token punctuation">(</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token keyword">function</span> <span class="token function">deleteFlow</span><span class="token punctuation">(</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span></code></pre></div><p class="css-0">Seem straightforward enough? Let&#x27;s take the contracts for a test-drive.</p><h2 id="set-up" class="css-0">Set Up</h2><p class="css-0">The Superfluid contracts have already been deployed on the Gorli testnet for you. Here are the steps we&#x27;ll take:</p><ol class="css-0"><li class="css-0">Install SDK</li><li class="css-0">Obtain Gorli ETH</li><li class="css-0">Open Truffle console</li><li class="css-0">Mint some SuperDAI</li></ol><h3 id="install-the-sdk" class="css-0">Install the SDK</h3><p class="css-0">Download the example repo, which includes the SDK</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0"><span class="token function">git</span> clone REPO URL PLACEHOLDER
<span class="token builtin class-name">cd</span> PLACEHOLDER <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> i</code></pre></div><p class="css-0">If you haven&#x27;t already, install truffle and jq.</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> jq
<span class="token function">npm</span> i -g truffle</code></pre></div><p class="css-0">Now build the contracts using truffle.</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0"><span class="token function">yarn</span> build</code></pre></div><h3 id="obtain-görli-eth" class="css-0">Obtain Görli ETH</h3><p class="css-0">Before we can get testnet ETH, we need a 12-word mnemonic to generate our wallets. If you don&#x27;t have a mnemonic, we can use truffle to create one for us. Never put any real funds into it.</p><div class="gatsby-highlight css-0" data-language="text"><pre class="language-text css-0"><code class="language-text css-0">truffle develop

&gt; Accounts:
&gt; (0) 0x627306090abab3a6e1400e9345bc60c78a8bef57
&gt; (1) 0xf17f52151ebef6c7334fad080c5704d77216b732

&gt; Mnemonic: rigid cradle south tribe juice harvest unit walk section grab quiz wire</code></pre></div><p class="css-0">Copy the first address and use the Görli testnet faucet to obtain some ETH <a href="https://goerli.net/" class="css-0">https://goerli.net/</a></p><p class="css-0">Exit the truffle develop tool before continuing.</p><h3 id="open-truffle-console" class="css-0">Open Truffle console</h3><p class="css-0">Now we are ready to open the Truffle console</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0">npx truffle --network goerli console -mnemonic <span class="token string">&quot;rigid cradle south ...&quot;</span></code></pre></div><p class="css-0">Let&#x27;s load the SDK and initialize it with the contracts.</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0">SuperfluidSDK <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span>

sf <span class="token operator">=</span> new SuperfluidSDK.Framework<span class="token punctuation">(</span><span class="token punctuation">{</span>version: <span class="token string">&quot;PLACEHOLDER_VERSION&quot;</span>, web3Provider: web3.currentProvider <span class="token punctuation">}</span><span class="token punctuation">)</span>

await sf.initialize<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span> Resolver at 0xF935<span class="token punctuation">..</span>.
<span class="token operator">&gt;</span> Resolving contracts with version <span class="token builtin class-name">test</span>
<span class="token operator">&gt;</span> Superfluid 0xC38B<span class="token punctuation">..</span>.
<span class="token operator">&gt;</span> ConstantFlowAgreementV1 0x7E<span class="token punctuation">..</span>.
<span class="token operator">&gt;</span> InstantDistributionAgreementV1 0xA0D<span class="token punctuation">..</span></code></pre></div><blockquote class="css-0"><p class="css-0">What just happened? The SF SDK used the <code class="css-0">resolver</code> contract deployed on Gorli to fetch all the relevant protocol addresses. Then the Truffle artifacts in the <code class="css-0">/build</code> folder were used to create each contract object.</p></blockquote><p class="css-0">Now we&#x27;ll load a web3 utility library and create an alias for two of our wallet addresses.</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0">const <span class="token punctuation">{</span> toWad, toBN, fromWad, wad4human <span class="token punctuation">}</span> <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&quot;@decentral.ee/web3-helpers&quot;</span><span class="token punctuation">)</span>

bob <span class="token operator">=</span> accounts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
alice <span class="token operator">=</span> accounts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span></code></pre></div><h3 id="mint-some-superdai" class="css-0">Mint some SuperDAI</h3><p class="css-0">For this tutorial, our Flow will be using an ERC20 token called &quot;fake DAI&quot; or just DAI for short. Let&#x27;s get the address for this token using the resolver, and create a Truffle contract object so we can interact with it.</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0">daiAddress <span class="token operator">=</span> await sf.resolver.get<span class="token punctuation">(</span><span class="token string">&quot;tokens.fDAI&quot;</span><span class="token punctuation">)</span>
dai <span class="token operator">=</span> await sf.contracts.TestToken.at<span class="token punctuation">(</span>daiAddress<span class="token punctuation">)</span></code></pre></div><p class="css-0">Let&#x27;s mint bob 100 DAI (minting is open for anyone to call here)</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0">dai.mint<span class="token punctuation">(</span>bob, web3.utils.toWei<span class="token punctuation">(</span><span class="token string">&quot;100&quot;</span>, <span class="token string">&quot;ether&quot;</span><span class="token punctuation">)</span>, <span class="token punctuation">{</span> from: bob <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span>async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>wad4human<span class="token punctuation">(</span>await dai.balanceOf<span class="token punctuation">(</span>bob<span class="token punctuation">))</span><span class="token punctuation">))</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token string">&#x27;100.00000&#x27;</span></code></pre></div><p class="css-0">Now bob has some boring DAI.</p><p class="css-0"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:500px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:102.17391304347827%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/svg+xml,%3csvg%20xmlns=\&#x27;http://www.w3.org/2000/svg\&#x27;%20width=\&#x27;400\&#x27;%20height=\&#x27;408\&#x27;%20viewBox=\&#x27;0%200%20400%20408\&#x27;%20preserveAspectRatio=\&#x27;none\&#x27;%3e%3cpath%20d=\&#x27;M102%2041c-15%205-20%208-30%2022l-6%207c-3%201-3%201-3%204s-1%207-3%2010a231%20231%200%2000-18%2083c-2%2013-4%2078-4%20108a3292%203292%200%20011%20129c0%202%201%202%205%202%209%200%208%202%209-53s1-58%205-64c3-5%209-9%2012-7%204%201%205%204%206%2023a871%20871%200%20005%2076c0%2020%202%2023%209%2021%208-2%209-8%206-28l-1-17a11975%2011975%200%2001-3-129l4%209c5%209%2010%2014%2014%2014h3l7%2011%2013%2024c8%2012%209%2014%209%2019s2%2011%204%2011c1%200%201-1-1-9%200-4%201-4%203%200l3%203%205%203%208%205c5%202%2011%2011%2015%2022%201%205%209%2019%2011%2021l3%206%204%207c2%202%202-1%201-5-2-4-2-5%200-3%201%201%201%201%201-2%200-2-1-3-4-6-4-3-6-6-22-36-2-5-6-8-14-12-5-3-12-8-12-10l-4-7c-20-32-24-40-25-48%200-5-1-8-9-23-6-11-12-25-17-42-6-17-6-19%200-38l4-16c1-5%2010-22%2017-33%2014-23%2016-44%205-51-3-2-12-3-16-1m-6%206c-7%203-11%205-17%2013-5%208-5%209%201%209a89%2089%200%200137%2011c2%200%205-17%204-25-2-11-11-14-25-8M69%2075l-2%204c0%202%207%208%2011%2011l7%204%202%202%202-2c1-3%205-4%208-1l4%202%203%202c1%202%202%201%206-5l4-8c-1-2-14-9-17-9l-8-1-12-2c-6%200-6%200-8%203m-5%209c-3%204-5%2010-10%2025-5%2017-7%2034-9%2065l-2%2032c-3%2033-2%2064%202%2067l7%201h6v-19l-1-48v-51c1-2%203%202%203%206l2%2088c6%201%2026%200%2026-1-1-1-2-9-2-22l-1-10-2-40c0-15%201-22%204-31s3-10%200-8l-3%201c-1-2%201-4%204-5%203%200%203-1%206-12%201-2%202-7%204-9%203-6%203-6-4-9a122%20122%200%2001-27-19l-2-3-1%202m92%2051c-3%202-3%2014%200%2017s11%202%2013%200v-6l-2%202c-1%203-3%204-8%203-2-1-2-1-2-8l1-6%204-1c3%200%204%200%205%202%200%203%203%203%203%200%200-5-9-7-14-3m29%206c-1%203%200%2011%201%2012l1-5c0-4%200-5%202-6%203-2%204%200%204%206%200%204%200%205%202%205l1-5c0-4%200-5%202-6%203-1%204%201%204%206l1%205c2%200%202-10%201-13-1-2-19-1-19%201m25-1c-2%203-2%2011%201%2013%202%202%207%201%209-1%203-3%202-11%200-12h-10m-47%2029c0%202%200%202-4%202s-5%201-5%208c0%206%201%207%208%207h4v-10l-1-10c-1%200-2%201-2%203m125%207l1%2010%201-8c0-3%202-5%204-5s3%201%203%206c1%208%202%208%203%201%200-8-1-9-6-9-3%200-4-1-4-3-1-6-2-1-2%208m-116-4c-1%202-2%2011%200%2013h9c2-1%203-10%201-13-1-2-8-2-10%200m29-1c-2%200-3%201-3%203%200%203%201%205%206%205l4%202c0%202-6%203-8%201s-3%200-1%202c1%202%208%203%2010%201%204-3%201-9-5-9l-4-1c-1-2%203-2%206-1h4c1-3-4-4-9-3m34%200c-3%200-3%200-3%208l1%207%201-4c0-5%201-9%204-9%202%200%203%202%203%208l1%205%201-4c0-5%202-9%204-9s3%203%203%209l1%204%201-7v-7l-5-1h-12m23%201c-3%202-3%2011%200%2013%203%201%208%201%209-1%202-2%202-3%201-3l-2%201-3%201c-3%200-4%200-4-2s1-2%205-2c5%200%205%200%205-3%200-5-6-7-11-4m73%200c-2%201-2%202-2%206%200%206%202%208%206%208%202-1%203%200%203%201-1%202-4%202-6%200s-4-1-2%202c1%202%208%203%2010%201l1-10v-9h-4l-6%201m-115%200v13l5%201c5%200%206-1%206-7%200-7-1-8-6-8l-5%201m96%206c1%208%202%2010%203%203%200-6%201-8%204-8%202%200%203%202%203%208%200%207%202%206%203%200%200-8-1-10-8-10h-5v7m-226%203l2%2018c0%2011%201%2013%203%2018l8%2016c6%2012%208%2015%2011%2014%203%200%205-2%205-4a138%20138%200%2000-14-27l-10-27c-5-15-5-15-5-8m-23%2074c-1%201-2%201-1%204%200%203%202%204%208%202l10-2c7%200%208-1%208-2%200-2-1-3-11-3l-14%201m9%209c-11%203-11%203-11%207%200%206-2%207-11%207l-8-1-1%2063c0%2059%200%2063%202%2064%205%202%206-1%206-56%201-57%202-61%2011-67%206-4%2014-3%2017%201%201%203%204%2028%204%2041a724%20724%200%20004%2069c1%207%202%208%206%205l2-2-1-22a3510%203510%200%2001-4-104v-7h-4l-12%202\&#x27;%20fill=\&#x27;%23d3d3d3\&#x27;%20fill-rule=\&#x27;evenodd\&#x27;/%3e%3c/svg%3e&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="cmon" title="cmon" src="/static/194c51dce30e4946de4c7fdff4005a42/0b533/cmon.png" srcSet="/static/194c51dce30e4946de4c7fdff4005a42/81c8e/cmon.png 230w,/static/194c51dce30e4946de4c7fdff4005a42/08a84/cmon.png 460w,/static/194c51dce30e4946de4c7fdff4005a42/0b533/cmon.png 500w" sizes="(max-width: 500px) 100vw, 500px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-0">Let&#x27;s <strong class="css-0">upgrade</strong> our DAI token so it can be used with Superfluid. First we need to get the wrapped DAI contract using the <code class="css-0">SuperToken</code> wrapper.</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0">daixWrapper <span class="token operator">=</span> await sf.getERC20Wrapper<span class="token punctuation">(</span>dai<span class="token punctuation">)</span>
daix <span class="token operator">=</span> await sf.contracts.ISuperToken.at<span class="token punctuation">(</span>daixWrapper.wrapperAddress<span class="token punctuation">)</span></code></pre></div><p class="css-0">Now we can upgrade half of bob&#x27;s DAI.</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0">dai.approve<span class="token punctuation">(</span>daix.address, <span class="token string">&quot;1&quot;</span>+<span class="token string">&quot;0&quot;</span>.repeat<span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span>, <span class="token punctuation">{</span> from: bob <span class="token punctuation">}</span><span class="token punctuation">)</span>

daix.upgrade<span class="token punctuation">(</span>web3.utils.toWei<span class="token punctuation">(</span><span class="token string">&quot;50&quot;</span>, <span class="token string">&quot;ether&quot;</span><span class="token punctuation">)</span>, <span class="token punctuation">{</span> from: bob <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span>async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>wad4human<span class="token punctuation">(</span>await daix.balanceOf<span class="token punctuation">(</span>bob<span class="token punctuation">))</span><span class="token punctuation">))</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token string">&#x27;50.00000&#x27;</span></code></pre></div><p class="css-0">Hurrah, we now have 50 Superfluid-enabled DAI or &quot;SuperDAI&quot; 🦸.</p><p class="css-0">We&#x27;re almost to the finish line, stick with it!</p><h2 id="create-a-constant-flow-agreement-cfa" class="css-0">Create a Constant Flow Agreement &quot;CFA&quot;</h2><p class="css-0">Now that bob has some Superfluid-enabled DAI, he wants to send 100 DAI per month to alice.</p><h3 id="createflow" class="css-0">createFlow()</h3><p class="css-0">To achieve this, we will create a <strong class="css-0">Constant Flow Agreement</strong>. In this, we will define the <em class="css-0">amount per second</em> and <code class="css-0">recipient</code> which the DAI should flow to.</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0">sf.host.callAgreement<span class="token punctuation">(</span>sf.agreements.cfa.address, sf.agreements.cfa.contract.methods.createFlow<span class="token punctuation">(</span>daix.address, alice, <span class="token string">&quot;385802469135802&quot;</span>, <span class="token string">&quot;0x&quot;</span><span class="token punctuation">)</span>.encodeABI<span class="token punctuation">(</span><span class="token punctuation">)</span>, <span class="token punctuation">{</span> from: bob <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><p class="css-0">If we unwind this command, we&#x27;ll see that the main points are:</p><ol class="css-0"><li class="css-0">We made a call to the <code class="css-0">host</code> contract using <code class="css-0">callAgreements</code></li><li class="css-0">We specify we want to use a <strong class="css-0">Constant Flow Agreement</strong> with <code class="css-0">cfa.address</code></li><li class="css-0">We are using the method <code class="css-0">createFlow</code>, and pass the arguments for the DAI token, recipient, and the amount &quot;385802469135802&quot;</li></ol><p class="css-0">So what is this weird number &quot;385802469135802&quot;? This is the amount of DAI to transfer per second, which is equivalent to 100 DAI per month.</p><div class="gatsby-highlight css-0" data-language="python"><pre class="language-python css-0"><code class="language-python css-0"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">385802469135802</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10e18</span>
<span class="token number">99.99999999999989</span></code></pre></div><blockquote class="css-0"><p class="css-0">HUH?! How is bob able to send 100 DAI per month if he only has 50 Superfluid enabled DAI? The answer is that the sender isn&#x27;t required to have the full amount to start a flow. The flow will continue to run as long as he has DAI.</p></blockquote><h3 id="inspect-the-flow" class="css-0">Inspect the Flow</h3><p class="css-0">The flow is now active, so let&#x27;s check alice and bob&#x27;s balances to see the change. Their balances will be updated every second.</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0"><span class="token punctuation">(</span>await daix.balanceOf<span class="token punctuation">(</span>bob<span class="token punctuation">))</span>.toString<span class="token punctuation">(</span><span class="token punctuation">)</span> / 1e18
<span class="token operator">&gt;</span> <span class="token number">48.55092592592593</span>
<span class="token punctuation">(</span>await daix.balanceOf<span class="token punctuation">(</span>alice<span class="token punctuation">))</span>.toString<span class="token punctuation">(</span><span class="token punctuation">)</span> / 1e18
<span class="token operator">&gt;</span> <span class="token number">0.006674382716049375</span></code></pre></div><blockquote class="css-0"><p class="css-0">Note: These amounts should not add up to bob&#x27;s original balance of 50 SuperDAI, due to a refundable depost which will be explained in a later tutorial.</p></blockquote><p class="css-0">To get an idea of all Flow activity for bob, we can check his <code class="css-0">net flow</code>. This will show us the sum of all inflow/outflows for his account. Here we can see the flow we just created, with the same &quot;385802469135802&quot; in units of wei.</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0"><span class="token punctuation">(</span>await sf.agreements.cfa.getNetFlow<span class="token punctuation">(</span>daix.address, bob<span class="token punctuation">))</span>.toString<span class="token punctuation">(</span><span class="token punctuation">)</span> / 10e18
<span class="token operator">&gt;</span> -0.0000385802469135802</code></pre></div><p class="css-0">If bob had multiple flows, this would be reflected here. Since his net flow is negative, he&#x27;ll need to remember to keep enough DAI in his wallet!</p><h3 id="stop-the-flow" class="css-0">Stop the Flow</h3><p class="css-0">Now lets stop the flow by deleting it. We call <code class="css-0">deleteFlow</code> and select the flow between bob and alice.</p><div class="gatsby-highlight css-0" data-language="text"><pre class="language-text css-0"><code class="language-text css-0">sf.host.callAgreement(sf.agreements.cfa.address, sf.agreements.cfa.contract.methods.deleteFlow(daix.address, bob, alice, &quot;0x&quot;).encodeABI(), { from: bob })</code></pre></div><p class="css-0">If we check their balances, we&#x27;ll see that they now add up to 50 since the refundable deposit has been returned.</p><div class="gatsby-highlight css-0" data-language="bash"><pre class="language-bash css-0"><code class="language-bash css-0"><span class="token punctuation">(</span>await daix.balanceOf<span class="token punctuation">(</span>bob<span class="token punctuation">))</span>.toString<span class="token punctuation">(</span><span class="token punctuation">)</span> / 1e18
<span class="token operator">&gt;</span> <span class="token number">47.316580926</span>
<span class="token punctuation">(</span>await daix.balanceOf<span class="token punctuation">(</span>alice<span class="token punctuation">))</span>.toString<span class="token punctuation">(</span><span class="token punctuation">)</span> / 1e18
<span class="token operator">&gt;</span> <span class="token number">2.683419074</span></code></pre></div><p class="css-0">Great job! You just minted some Superfluid-enabled DAI, and created your first Flow.</p></div></div></main><style data-emotion-css="9kk7v6">.css-9kk7v6{width:100%;position:relative;display:none;}@media screen and (min-width:40em){.css-9kk7v6{display:none;}}@media screen and (min-width:52em){.css-9kk7v6{display:block;}}</style><aside class="css-9kk7v6"><style data-emotion-css="aamw1p">.css-aamw1p{position:-webkit-sticky;position:sticky;padding-top:20vh;top:0;}</style><style data-emotion-css="mf3568">.css-mf3568{padding-left:32px;opacity:1;font-size:16px;position:-webkit-sticky;position:sticky;padding-top:20vh;top:0;}.css-mf3568:hover{opacity:1;}</style><nav class="css-mf3568"><style data-emotion-css="g3zk4e">.css-g3zk4e{font-family:'Open Sans',sans-serif;font-weight:bold;-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;margin-bottom:16px;margin-top:0;text-transform:uppercase;}</style><div class="css-g3zk4e">Table of contents</div><style data-emotion-css="7nqjlw">.css-7nqjlw{list-style-type:none;font-family:'Open Sans',sans-serif;color:rgba(17,17,17,0.8);padding-left:16px;}@media screen and (min-width:40em){.css-7nqjlw{padding-left:16px;}}@media screen and (min-width:52em){.css-7nqjlw{padding-left:0;}}.css-7nqjlw .is-current{color:var(--theme-ui-colors-primary,#1b6ac9);}.css-7nqjlw .is-current::before{content:"";display:block;position:absolute;left:0;width:2px;height:21px;background-color:var(--theme-ui-colors-primary,#1b6ac9);}.css-7nqjlw .is-current-depth{color:var(--theme-ui-colors-primary,#1b6ac9);}</style><ul class="css-7nqjlw"><style data-emotion-css="1ybev0j">.css-1ybev0j{list-style-type:none;line-height:1.3;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-top:8px;margin-bottom:8px;}.css-1ybev0j a{color:inherit;}</style><li class=" css-1ybev0j"><style data-emotion-css="10e7dyp">.css-10e7dyp{width:100%;font-weight:600;cursor:pointer;}.css-10e7dyp:hover{color:var(--theme-ui-colors-text,#111);-webkit-text-decoration:none;text-decoration:none;}</style><a class="css-10e7dyp">Introduction</a></li><li class=" css-1ybev0j"><a class="css-10e7dyp">Set Up</a><style data-emotion-css="rl1b1e">.css-rl1b1e{margin:0;padding-bottom:8px;}</style><ul class="css-rl1b1e"><style data-emotion-css="17vy285">.css-17vy285{list-style-type:none;padding-left:16px;margin-top:8px;margin-bottom:8px;}</style><li class=" css-17vy285"><style data-emotion-css="15iajw4">.css-15iajw4{font-size:15px;cursor:pointer;}.css-15iajw4:hover{color:var(--theme-ui-colors-text,#111);-webkit-text-decoration:none;text-decoration:none;}</style><a as="a" class="css-15iajw4">Install the SDK<!-- --> </a></li><li class=" css-17vy285"><a as="a" class="css-15iajw4">Obtain Görli ETH<!-- --> </a></li><li class=" css-17vy285"><a as="a" class="css-15iajw4">Open Truffle console<!-- --> </a></li><li class=" css-17vy285"><a as="a" class="css-15iajw4">Mint some SuperDAI<!-- --> </a></li></ul></li><li class=" css-1ybev0j"><a class="css-10e7dyp">Create a Constant Flow Agreement &quot;CFA&quot;</a><ul class="css-rl1b1e"><li class=" css-17vy285"><a as="a" class="css-15iajw4">createFlow()<!-- --> </a></li><li class=" css-17vy285"><a as="a" class="css-15iajw4">Inspect the Flow<!-- --> </a></li><li class=" css-17vy285"><a as="a" class="css-15iajw4">Stop the Flow<!-- --> </a></li></ul></li></ul></nav></aside></div><style data-emotion-css="17qhg5d">.css-17qhg5d{max-width:80ch;margin-left:auto;margin-right:auto;padding-top:32px;padding-bottom:32px;}@media screen and (min-width:40em){.css-17qhg5d{max-width:80ch;padding-top:64px;padding-bottom:64px;}}@media screen and (min-width:52em){.css-17qhg5d{max-width:1200px;}}</style><footer class="css-17qhg5d"><a href="undefined/content/tutorials/create-a-flow/index.mdx" rel="nofollow"><strong><span role="img" aria-label="edit page">📝</span> <em>edit this page on github</em></strong></a></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
    window.dev = undefined
    if (window.dev === true || !(navigator.doNotTrack === '1' || window.doNotTrack === '1')) {
      window._paq = window._paq || [];
      
      
      
      window._paq.push(['setTrackerUrl', 'https://superfluidfinance.matomo.cloud/piwik.php']);
      window._paq.push(['setSiteId', '2']);
      window._paq.push(['enableHeartBeatTimer']);
      window.start = new Date();

      (function() {
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src='https://superfluidfinance.matomo.cloud/piwik.js'; s.parentNode.insertBefore(g,s);
      })();

      if (window.dev === true) {
        console.debug('[Matomo] Tracking initialized')
        console.debug('[Matomo] matomoUrl: https://superfluidfinance.matomo.cloud, siteId: 2')
      }
    }
  </script><noscript><img src="https://superfluidfinance.matomo.cloud/piwik.php?idsite=2&rec=1&url=https://docs.superfluid.io/tutorials/create-a-flow/" style="border:0" alt="tracker" /></noscript><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/tutorials/create-a-flow/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f98822240a27440a35b9.js"],"app":["/app-976397e89b272a229638.js"],"component---src-pages-404-js":["/component---src-pages-404-js-85455bb2593648acae1b.js"],"component---src-templates-article-js":["/component---src-templates-article-js-4724c420e8eee6898a5f.js"]};/*]]>*/</script><script src="/polyfill-f98822240a27440a35b9.js" nomodule=""></script><script src="/component---src-templates-article-js-4724c420e8eee6898a5f.js" async=""></script><script src="/commons-f94eb60cb25332f7e21e.js" async=""></script><script src="/05d954cf-1780a4cc2dc4eca35f03.js" async=""></script><script src="/5e2a4920-af8585eda26774c525b4.js" async=""></script><script src="/styles-bc72ca78f9bad9fb1f45.js" async=""></script><script src="/app-976397e89b272a229638.js" async=""></script><script src="/framework-83e11af5cf111be5ad89.js" async=""></script><script src="/webpack-runtime-02f21c62cb37060a73a0.js" async=""></script></body></html>